"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/events/[event_id]/register";
exports.ids = ["pages/api/events/[event_id]/register"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "formidable":
/*!*****************************!*\
  !*** external "formidable" ***!
  \*****************************/
/***/ ((module) => {

module.exports = import("formidable");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fevents%2F%5Bevent_id%5D%2Fregister&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fevents%2F%5Bevent_id%5D%2Fregister.js&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fevents%2F%5Bevent_id%5D%2Fregister&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fevents%2F%5Bevent_id%5D%2Fregister.js&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_events_event_id_register_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/events/[event_id]/register.js */ \"(api)/./pages/api/events/[event_id]/register.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_events_event_id_register_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_events_event_id_register_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_events_event_id_register_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_events_event_id_register_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/events/[event_id]/register\",\n        pathname: \"/api/events/[event_id]/register\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_events_event_id_register_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmV2ZW50cyUyRiU1QmV2ZW50X2lkJTVEJTJGcmVnaXN0ZXImcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRmV2ZW50cyUyRiU1QmV2ZW50X2lkJTVEJTJGcmVnaXN0ZXIuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDc0U7QUFDdEU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLG1FQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxtRUFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qc29uLWFwaS1uZXh0anMvPzYwM2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9ldmVudHMvW2V2ZW50X2lkXS9yZWdpc3Rlci5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2V2ZW50cy9bZXZlbnRfaWRdL3JlZ2lzdGVyXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZXZlbnRzL1tldmVudF9pZF0vcmVnaXN0ZXJcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fevents%2F%5Bevent_id%5D%2Fregister&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fevents%2F%5Bevent_id%5D%2Fregister.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/events/[event_id]/register.js":
/*!*************************************************!*\
  !*** ./pages/api/events/[event_id]/register.js ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var formidable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! formidable */ \"formidable\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([formidable__WEBPACK_IMPORTED_MODULE_0__]);\nformidable__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\nconst mockDatabase = [];\nconst parseForm = (req)=>new Promise((resolve, reject)=>{\n        const form = new formidable__WEBPACK_IMPORTED_MODULE_0__.IncomingForm({\n            uploadDir: path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"/public/uploads\"),\n            keepExtensions: true,\n            maxFileSize: 1 * 1024 * 1024,\n            multiples: false\n        });\n        form.parse(req, (err, fields, files)=>{\n            if (err) reject(err);\n            else resolve({\n                fields,\n                files\n            });\n        });\n    });\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        res.setHeader(\"Allow\", [\n            \"POST\"\n        ]);\n        return res.status(405).json({\n            message: `Method ${req.method} tidak diizinkan.`\n        });\n    }\n    const { event_id } = req.query;\n    try {\n        const { fields, files } = await parseForm(req);\n        const { full_name, address, government_id, postal_code } = fields;\n        const government_id_image = files.government_id_image;\n        const errors = {};\n        const safeString = (val)=>Array.isArray(val) ? val[0] : val ?? \"\";\n        const fullName = safeString(full_name);\n        const addressValue = safeString(address);\n        const govId = safeString(government_id);\n        const postal = safeString(postal_code);\n        if (fullName.trim() === \"\") errors.full_name = \"Nama lengkap wajib diisi.\";\n        if (addressValue.trim() === \"\") errors.address = \"Alamat wajib diisi.\";\n        if (govId.trim() === \"\") errors.government_id = \"Nomor identitas wajib diisi.\";\n        if (postal.trim() === \"\") errors.postal_code = \"Kode pos wajib diisi.\";\n        if (!event_id || isNaN(Number(event_id))) errors.event_id = \"ID event tidak valid.\";\n        const duplicate = mockDatabase.find((item)=>item.event_id === event_id && item.government_id === govId);\n        if (duplicate) {\n            errors.government_id = \"Nomor identitas sudah digunakan pada event ini.\";\n        }\n        if (!government_id_image) {\n            errors.government_id_image = \"Gambar identitas wajib diunggah.\";\n        } else {\n            const file = Array.isArray(government_id_image) ? government_id_image[0] : government_id_image;\n            const allowedExt = [\n                \".jpg\",\n                \".jpeg\",\n                \".png\"\n            ];\n            const ext = path__WEBPACK_IMPORTED_MODULE_2___default().extname(file.originalFilename || \"\").toLowerCase();\n            // console.log(\"Ekstensi file:\", ext);\n            // console.log(\"File info:\", file);\n            if (!allowedExt.includes(ext)) {\n                errors.government_id_image = \"Format gambar harus JPG, JPEG, atau PNG.\";\n            }\n            if (file.size > 1024 * 1024) {\n                errors.government_id_image = \"Ukuran gambar maksimal 1MB.\";\n            }\n        }\n        if (Object.keys(errors).length > 0) {\n            return res.status(422).json({\n                message: \"Validasi gagal\",\n                errors\n            });\n        }\n        const file = Array.isArray(government_id_image) ? government_id_image[0] : government_id_image;\n        const record = {\n            full_name: fullName,\n            address: addressValue,\n            government_id: govId,\n            postal_code: postal,\n            event_id,\n            government_id_image_path: `/uploads/${path__WEBPACK_IMPORTED_MODULE_2___default().basename(file.filepath)}`,\n            registered_at: new Date().toISOString()\n        };\n        mockDatabase.push(record);\n        return res.status(201).json({\n            message: \"Registrasi berhasil.\",\n            data: record\n        });\n    } catch (err) {\n        return res.status(400).json({\n            message: \"Gagal memproses data.\",\n            error: err.message\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvZXZlbnRzL1tldmVudF9pZF0vcmVnaXN0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUEwQztBQUN0QjtBQUNJO0FBRWpCLE1BQU1HLFNBQVM7SUFDcEJDLEtBQUs7UUFDSEMsWUFBWTtJQUNkO0FBQ0YsRUFBRTtBQUVGLE1BQU1DLGVBQWUsRUFBRTtBQUV2QixNQUFNQyxZQUFZLENBQUNDLE1BQ2pCLElBQUlDLFFBQVEsQ0FBQ0MsU0FBU0M7UUFDcEIsTUFBTUMsT0FBTyxJQUFJWixvREFBWUEsQ0FBQztZQUM1QmEsV0FBV1gsZ0RBQVMsQ0FBQ2EsUUFBUUMsR0FBRyxJQUFJO1lBQ3BDQyxnQkFBZ0I7WUFDaEJDLGFBQWEsSUFBSSxPQUFPO1lBQ3hCQyxXQUFXO1FBQ2I7UUFFQVAsS0FBS1EsS0FBSyxDQUFDWixLQUFLLENBQUNhLEtBQUtDLFFBQVFDO1lBQzVCLElBQUlGLEtBQUtWLE9BQU9VO2lCQUNYWCxRQUFRO2dCQUFFWTtnQkFBUUM7WUFBTTtRQUMvQjtJQUNGO0FBRWEsZUFBZUMsUUFBUWhCLEdBQUcsRUFBRWlCLEdBQUc7SUFDNUMsSUFBSWpCLElBQUlrQixNQUFNLEtBQUssUUFBUTtRQUN6QkQsSUFBSUUsU0FBUyxDQUFDLFNBQVM7WUFBQztTQUFPO1FBQy9CLE9BQU9GLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUyxDQUFDLE9BQU8sRUFBRXRCLElBQUlrQixNQUFNLENBQUMsaUJBQWlCLENBQUM7UUFBQztJQUNqRjtJQUVBLE1BQU0sRUFBRUssUUFBUSxFQUFFLEdBQUd2QixJQUFJd0IsS0FBSztJQUU5QixJQUFJO1FBQ0YsTUFBTSxFQUFFVixNQUFNLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1oQixVQUFVQztRQUUxQyxNQUFNLEVBQ0p5QixTQUFTLEVBQ1RDLE9BQU8sRUFDUEMsYUFBYSxFQUNiQyxXQUFXLEVBQ1osR0FBR2Q7UUFFSixNQUFNZSxzQkFBc0JkLE1BQU1jLG1CQUFtQjtRQUNyRCxNQUFNQyxTQUFTLENBQUM7UUFFaEIsTUFBTUMsYUFBYSxDQUFDQyxNQUFRQyxNQUFNQyxPQUFPLENBQUNGLE9BQU9BLEdBQUcsQ0FBQyxFQUFFLEdBQUdBLE9BQU87UUFDakUsTUFBTUcsV0FBV0osV0FBV047UUFDNUIsTUFBTVcsZUFBZUwsV0FBV0w7UUFDaEMsTUFBTVcsUUFBUU4sV0FBV0o7UUFDekIsTUFBTVcsU0FBU1AsV0FBV0g7UUFFMUIsSUFBSU8sU0FBU0ksSUFBSSxPQUFPLElBQUlULE9BQU9MLFNBQVMsR0FBRztRQUMvQyxJQUFJVyxhQUFhRyxJQUFJLE9BQU8sSUFBSVQsT0FBT0osT0FBTyxHQUFHO1FBQ2pELElBQUlXLE1BQU1FLElBQUksT0FBTyxJQUFJVCxPQUFPSCxhQUFhLEdBQUc7UUFDaEQsSUFBSVcsT0FBT0MsSUFBSSxPQUFPLElBQUlULE9BQU9GLFdBQVcsR0FBRztRQUMvQyxJQUFJLENBQUNMLFlBQVlpQixNQUFNQyxPQUFPbEIsWUFBWU8sT0FBT1AsUUFBUSxHQUFHO1FBRTVELE1BQU1tQixZQUFZNUMsYUFBYTZDLElBQUksQ0FDakMsQ0FBQ0MsT0FBU0EsS0FBS3JCLFFBQVEsS0FBS0EsWUFBWXFCLEtBQUtqQixhQUFhLEtBQUtVO1FBRWpFLElBQUlLLFdBQVc7WUFDYlosT0FBT0gsYUFBYSxHQUFHO1FBQ3pCO1FBRUEsSUFBSSxDQUFDRSxxQkFBcUI7WUFDeEJDLE9BQU9ELG1CQUFtQixHQUFHO1FBQy9CLE9BQU87WUFDTCxNQUFNZ0IsT0FBT1osTUFBTUMsT0FBTyxDQUFDTCx1QkFDdkJBLG1CQUFtQixDQUFDLEVBQUUsR0FDdEJBO1lBRUosTUFBTWlCLGFBQWE7Z0JBQUM7Z0JBQVE7Z0JBQVM7YUFBTztZQUM1QyxNQUFNQyxNQUFNckQsbURBQVksQ0FBQ21ELEtBQUtJLGdCQUFnQixJQUFJLElBQUlDLFdBQVc7WUFFakUsc0NBQXNDO1lBQ3RDLG1DQUFtQztZQUVuQyxJQUFJLENBQUNKLFdBQVdLLFFBQVEsQ0FBQ0osTUFBTTtnQkFDN0JqQixPQUFPRCxtQkFBbUIsR0FBRztZQUMvQjtZQUVBLElBQUlnQixLQUFLTyxJQUFJLEdBQUcsT0FBTyxNQUFNO2dCQUMzQnRCLE9BQU9ELG1CQUFtQixHQUFHO1lBQy9CO1FBQ0Y7UUFFQSxJQUFJd0IsT0FBT0MsSUFBSSxDQUFDeEIsUUFBUXlCLE1BQU0sR0FBRyxHQUFHO1lBQ2xDLE9BQU90QyxJQUFJRyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxTQUFTO2dCQUFrQlE7WUFBTztRQUNsRTtRQUVBLE1BQU1lLE9BQU9aLE1BQU1DLE9BQU8sQ0FBQ0wsdUJBQ3ZCQSxtQkFBbUIsQ0FBQyxFQUFFLEdBQ3RCQTtRQUVKLE1BQU0yQixTQUFTO1lBQ2IvQixXQUFXVTtZQUNYVCxTQUFTVTtZQUNUVCxlQUFlVTtZQUNmVCxhQUFhVTtZQUNiZjtZQUNBa0MsMEJBQTBCLENBQUMsU0FBUyxFQUFFL0Qsb0RBQWEsQ0FBQ21ELEtBQUtjLFFBQVEsRUFBRSxDQUFDO1lBQ3BFQyxlQUFlLElBQUlDLE9BQU9DLFdBQVc7UUFDdkM7UUFFQWhFLGFBQWFpRSxJQUFJLENBQUNQO1FBRWxCLE9BQU92QyxJQUFJRyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCQyxTQUFTO1lBQ1QwQyxNQUFNUjtRQUNSO0lBRUYsRUFBRSxPQUFPM0MsS0FBSztRQUNaLE9BQU9JLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUztZQUF5QjJDLE9BQU9wRCxJQUFJUyxPQUFPO1FBQUM7SUFDckY7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2pzb24tYXBpLW5leHRqcy8uL3BhZ2VzL2FwaS9ldmVudHMvW2V2ZW50X2lkXS9yZWdpc3Rlci5qcz9hMTFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluY29taW5nRm9ybSB9IGZyb20gJ2Zvcm1pZGFibGUnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBhcGk6IHtcbiAgICBib2R5UGFyc2VyOiBmYWxzZSxcbiAgfSxcbn07XG5cbmNvbnN0IG1vY2tEYXRhYmFzZSA9IFtdO1xuXG5jb25zdCBwYXJzZUZvcm0gPSAocmVxKSA9PlxuICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgZm9ybSA9IG5ldyBJbmNvbWluZ0Zvcm0oe1xuICAgICAgdXBsb2FkRGlyOiBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgXCIvcHVibGljL3VwbG9hZHNcIiksXG4gICAgICBrZWVwRXh0ZW5zaW9uczogdHJ1ZSxcbiAgICAgIG1heEZpbGVTaXplOiAxICogMTAyNCAqIDEwMjQsIC8vIDFNQlxuICAgICAgbXVsdGlwbGVzOiBmYWxzZSxcbiAgICB9KTtcblxuICAgIGZvcm0ucGFyc2UocmVxLCAoZXJyLCBmaWVsZHMsIGZpbGVzKSA9PiB7XG4gICAgICBpZiAoZXJyKSByZWplY3QoZXJyKTtcbiAgICAgIGVsc2UgcmVzb2x2ZSh7IGZpZWxkcywgZmlsZXMgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSBcIlBPU1RcIikge1xuICAgIHJlcy5zZXRIZWFkZXIoXCJBbGxvd1wiLCBbXCJQT1NUXCJdKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBtZXNzYWdlOiBgTWV0aG9kICR7cmVxLm1ldGhvZH0gdGlkYWsgZGlpemlua2FuLmAgfSk7XG4gIH1cblxuICBjb25zdCB7IGV2ZW50X2lkIH0gPSByZXEucXVlcnk7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGZpZWxkcywgZmlsZXMgfSA9IGF3YWl0IHBhcnNlRm9ybShyZXEpO1xuXG4gICAgY29uc3Qge1xuICAgICAgZnVsbF9uYW1lLFxuICAgICAgYWRkcmVzcyxcbiAgICAgIGdvdmVybm1lbnRfaWQsXG4gICAgICBwb3N0YWxfY29kZVxuICAgIH0gPSBmaWVsZHM7XG5cbiAgICBjb25zdCBnb3Zlcm5tZW50X2lkX2ltYWdlID0gZmlsZXMuZ292ZXJubWVudF9pZF9pbWFnZTtcbiAgICBjb25zdCBlcnJvcnMgPSB7fTtcblxuICAgIGNvbnN0IHNhZmVTdHJpbmcgPSAodmFsKSA9PiBBcnJheS5pc0FycmF5KHZhbCkgPyB2YWxbMF0gOiB2YWwgPz8gXCJcIjtcbiAgICBjb25zdCBmdWxsTmFtZSA9IHNhZmVTdHJpbmcoZnVsbF9uYW1lKTtcbiAgICBjb25zdCBhZGRyZXNzVmFsdWUgPSBzYWZlU3RyaW5nKGFkZHJlc3MpO1xuICAgIGNvbnN0IGdvdklkID0gc2FmZVN0cmluZyhnb3Zlcm5tZW50X2lkKTtcbiAgICBjb25zdCBwb3N0YWwgPSBzYWZlU3RyaW5nKHBvc3RhbF9jb2RlKTtcblxuICAgIGlmIChmdWxsTmFtZS50cmltKCkgPT09IFwiXCIpIGVycm9ycy5mdWxsX25hbWUgPSBcIk5hbWEgbGVuZ2thcCB3YWppYiBkaWlzaS5cIjtcbiAgICBpZiAoYWRkcmVzc1ZhbHVlLnRyaW0oKSA9PT0gXCJcIikgZXJyb3JzLmFkZHJlc3MgPSBcIkFsYW1hdCB3YWppYiBkaWlzaS5cIjtcbiAgICBpZiAoZ292SWQudHJpbSgpID09PSBcIlwiKSBlcnJvcnMuZ292ZXJubWVudF9pZCA9IFwiTm9tb3IgaWRlbnRpdGFzIHdhamliIGRpaXNpLlwiO1xuICAgIGlmIChwb3N0YWwudHJpbSgpID09PSBcIlwiKSBlcnJvcnMucG9zdGFsX2NvZGUgPSBcIktvZGUgcG9zIHdhamliIGRpaXNpLlwiO1xuICAgIGlmICghZXZlbnRfaWQgfHwgaXNOYU4oTnVtYmVyKGV2ZW50X2lkKSkpIGVycm9ycy5ldmVudF9pZCA9IFwiSUQgZXZlbnQgdGlkYWsgdmFsaWQuXCI7XG5cbiAgICBjb25zdCBkdXBsaWNhdGUgPSBtb2NrRGF0YWJhc2UuZmluZChcbiAgICAgIChpdGVtKSA9PiBpdGVtLmV2ZW50X2lkID09PSBldmVudF9pZCAmJiBpdGVtLmdvdmVybm1lbnRfaWQgPT09IGdvdklkXG4gICAgKTtcbiAgICBpZiAoZHVwbGljYXRlKSB7XG4gICAgICBlcnJvcnMuZ292ZXJubWVudF9pZCA9IFwiTm9tb3IgaWRlbnRpdGFzIHN1ZGFoIGRpZ3VuYWthbiBwYWRhIGV2ZW50IGluaS5cIjtcbiAgICB9XG5cbiAgICBpZiAoIWdvdmVybm1lbnRfaWRfaW1hZ2UpIHtcbiAgICAgIGVycm9ycy5nb3Zlcm5tZW50X2lkX2ltYWdlID0gXCJHYW1iYXIgaWRlbnRpdGFzIHdhamliIGRpdW5nZ2FoLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBmaWxlID0gQXJyYXkuaXNBcnJheShnb3Zlcm5tZW50X2lkX2ltYWdlKVxuICAgICAgICA/IGdvdmVybm1lbnRfaWRfaW1hZ2VbMF1cbiAgICAgICAgOiBnb3Zlcm5tZW50X2lkX2ltYWdlO1xuXG4gICAgICBjb25zdCBhbGxvd2VkRXh0ID0gW1wiLmpwZ1wiLCBcIi5qcGVnXCIsIFwiLnBuZ1wiXTtcbiAgICAgIGNvbnN0IGV4dCA9IHBhdGguZXh0bmFtZShmaWxlLm9yaWdpbmFsRmlsZW5hbWUgfHwgXCJcIikudG9Mb3dlckNhc2UoKTtcblxuICAgICAgLy8gY29uc29sZS5sb2coXCJFa3N0ZW5zaSBmaWxlOlwiLCBleHQpO1xuICAgICAgLy8gY29uc29sZS5sb2coXCJGaWxlIGluZm86XCIsIGZpbGUpO1xuXG4gICAgICBpZiAoIWFsbG93ZWRFeHQuaW5jbHVkZXMoZXh0KSkge1xuICAgICAgICBlcnJvcnMuZ292ZXJubWVudF9pZF9pbWFnZSA9IFwiRm9ybWF0IGdhbWJhciBoYXJ1cyBKUEcsIEpQRUcsIGF0YXUgUE5HLlwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmlsZS5zaXplID4gMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgZXJyb3JzLmdvdmVybm1lbnRfaWRfaW1hZ2UgPSBcIlVrdXJhbiBnYW1iYXIgbWFrc2ltYWwgMU1CLlwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChPYmplY3Qua2V5cyhlcnJvcnMpLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQyMikuanNvbih7IG1lc3NhZ2U6IFwiVmFsaWRhc2kgZ2FnYWxcIiwgZXJyb3JzIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGZpbGUgPSBBcnJheS5pc0FycmF5KGdvdmVybm1lbnRfaWRfaW1hZ2UpXG4gICAgICA/IGdvdmVybm1lbnRfaWRfaW1hZ2VbMF1cbiAgICAgIDogZ292ZXJubWVudF9pZF9pbWFnZTtcblxuICAgIGNvbnN0IHJlY29yZCA9IHtcbiAgICAgIGZ1bGxfbmFtZTogZnVsbE5hbWUsXG4gICAgICBhZGRyZXNzOiBhZGRyZXNzVmFsdWUsXG4gICAgICBnb3Zlcm5tZW50X2lkOiBnb3ZJZCxcbiAgICAgIHBvc3RhbF9jb2RlOiBwb3N0YWwsXG4gICAgICBldmVudF9pZCxcbiAgICAgIGdvdmVybm1lbnRfaWRfaW1hZ2VfcGF0aDogYC91cGxvYWRzLyR7cGF0aC5iYXNlbmFtZShmaWxlLmZpbGVwYXRoKX1gLFxuICAgICAgcmVnaXN0ZXJlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIH07XG5cbiAgICBtb2NrRGF0YWJhc2UucHVzaChyZWNvcmQpO1xuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgIG1lc3NhZ2U6IFwiUmVnaXN0cmFzaSBiZXJoYXNpbC5cIixcbiAgICAgIGRhdGE6IHJlY29yZCxcbiAgICB9KTtcblxuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcIkdhZ2FsIG1lbXByb3NlcyBkYXRhLlwiLCBlcnJvcjogZXJyLm1lc3NhZ2UgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJJbmNvbWluZ0Zvcm0iLCJmcyIsInBhdGgiLCJjb25maWciLCJhcGkiLCJib2R5UGFyc2VyIiwibW9ja0RhdGFiYXNlIiwicGFyc2VGb3JtIiwicmVxIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmb3JtIiwidXBsb2FkRGlyIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJrZWVwRXh0ZW5zaW9ucyIsIm1heEZpbGVTaXplIiwibXVsdGlwbGVzIiwicGFyc2UiLCJlcnIiLCJmaWVsZHMiLCJmaWxlcyIsImhhbmRsZXIiLCJyZXMiLCJtZXRob2QiLCJzZXRIZWFkZXIiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImV2ZW50X2lkIiwicXVlcnkiLCJmdWxsX25hbWUiLCJhZGRyZXNzIiwiZ292ZXJubWVudF9pZCIsInBvc3RhbF9jb2RlIiwiZ292ZXJubWVudF9pZF9pbWFnZSIsImVycm9ycyIsInNhZmVTdHJpbmciLCJ2YWwiLCJBcnJheSIsImlzQXJyYXkiLCJmdWxsTmFtZSIsImFkZHJlc3NWYWx1ZSIsImdvdklkIiwicG9zdGFsIiwidHJpbSIsImlzTmFOIiwiTnVtYmVyIiwiZHVwbGljYXRlIiwiZmluZCIsIml0ZW0iLCJmaWxlIiwiYWxsb3dlZEV4dCIsImV4dCIsImV4dG5hbWUiLCJvcmlnaW5hbEZpbGVuYW1lIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInNpemUiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwicmVjb3JkIiwiZ292ZXJubWVudF9pZF9pbWFnZV9wYXRoIiwiYmFzZW5hbWUiLCJmaWxlcGF0aCIsInJlZ2lzdGVyZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJwdXNoIiwiZGF0YSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/events/[event_id]/register.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fevents%2F%5Bevent_id%5D%2Fregister&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fevents%2F%5Bevent_id%5D%2Fregister.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();